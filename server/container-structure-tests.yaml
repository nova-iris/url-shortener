schemaVersion: 2.0.0

commandTests:
  - name: "node version"
    command: "node"
    args: ["--version"]
    expectedOutput: ["v16"]
  - name: "npm availability"
    command: "npm"
    args: ["--version"]
    expectedOutput: [".+"]

fileExistenceTests:
  - name: "package.json exists"
    path: "/app/package.json"
    shouldExist: true
  - name: "server entry point exists"
    path: "/app/src/index.js"
    shouldExist: true
  - name: "server implementation exists"
    path: "/app/src/server.js"
    shouldExist: true

metadataTest:
  workdir: "/app"
  exposedPorts: ["5000"]
  env:
    - key: "PATH"
      value: "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"